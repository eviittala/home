<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Eero Viittala Homepage</title>
        <link type="text/css" rel="stylesheet" href="../index.css">
                
        <link rel="icon" href="../Pictures/E.jpg" type="image/jpg">
    </head>

    <body>
        <header class="top">
            <h1 id="top">Eero Viittala homepage</h1>
        </header>
        
        <div class="topnav">
            <a href="../index.html">Home</a>
            <a href="../challenges/challenges.html">Challenges</a>
            <a class="active" href="vim.html">Vim</a>
            <a href="../games/games.html">Games</a>
        </div>

        <div id="tableContainer">
            <div id="tableRow">
                <div id="sidebar">
                    <nav>
                        <ol>
                            <li><a href="#BASIC_COMMANDS">1. Basic Commands</a></li>
                            <li><a href="#INDEXING">2. Environment Indexing</a></li>
                            <li><a href="#NERDTREE">3. NERDTree</a></li>
                            <li><a href="#FILE_COMPARISON">4. File Comparison</a></li>
                            <li><a href="#WINDOWING">5. Windowing</a></li>
                            <li><a href="#TABS">5. Tabs</a></li>
                            <li><a href="#FILE_SEACRHING">6. File Searching</a></li>
                            <li><a href="#GDB">7. GDB</a></li>
                            <li><a href="#TERMINAL">8. Terminal</a></li>
                            <li><a href="#MYVIMRC">My vimrc</a></li>
                        </ol>
                    </nav>
                </div>
               <!-- <div id="main"> -->
                <aside>
                    <article id="BASIC_COMMANDS">
                        <header>
                            <h1>1. Basic Commands</h1>
                        </header>
                        <p>
                            <ul>
                                <li>vim //Opens vim</li>
                                <li>:q //Ends vim</li>
                                <li>:edit <file> //Opens file</li>
                                <li>:find <file> //Find file</li>
                                <li>:sfind <file> //Find file and opens it to new window</li>
                                <li>i //Goes to insert mode</li>
                                <li>&lt;esc&gt; //Exits insert mode</li>
                                <li>:set cursorline //Highlights current line</li>
                                <li>:%s/\s\+$//e //Cleans white space in the end of the line </li>
                                <li>:echo winnr() //Shows window number</li>
                            </ul>
                        </p>
                    </article>
                    <hr>
                    <article id="INDEXING">
                        <header>
                            <h1>2. Environment Indexing</h1>
                        </header>
                        <p>
                            <ul>
                                <li>ctags -R --exclude=.git	//Indexes environment</li>
                                <li>&lt;C-]&gt; //Searches word under cursor from tags</li>
                                <li>&lt;C-w&gt;} //Opens a preview window with the location of the tag definition. The cursor does not change its position, so tag stack is not updated</li>
                                <li>&lt;C-w&gt;z //Closes the preview window</li>
                                <li>:tag &lt;word&gt;	//Searches &lt;word&gt; from tags</li>
                                <li>:ptag &lt;word&gt; //Searches &lt;word&gt; from tags and open it to preview-window</li>
                                <li>:tjump &lt;word&gt; //Searches &lt;word&gt; from tags and lists all hits</li>
                            </ul>
                        </p>
                    </article>
                    <hr>
                    <article id="NERDTREE">
                        <header>
                            <h1>3. NERDTree</h1>
                        </header>
                        <p>
                            <ul>
                                <li>https://github.com/preservim/nerdtree</li>
                            </ul>
                        </p>
                    </article>
                    <hr>
                    <article id="FILE_COMPARISON">
                        <header>
                            <h1>4. File Comparison</h1>
                        </header>
                        <p>
                            <ul>
                                <li>vimdiff &lt;file1&gt; &lt;file2&gt;</li>
                                <li>:diffthis				//Compares files in split window</li>
                                <li>:diffoff				//Ends comparison</li>
                                <li>:windo diffthis			//Compares splits which are opened</li>
                            </ul>
                        </p>
                    </article>
                    <hr>
                    <article id="WINDOWING">
                        <header>
                            <h1>5. Windowing</h1>
                        </header>
                        <p>
                            <ul>
                                <li>:new				//Opens new window</li>
                                <li>:vnew				//Opens new window aside (Vertical split)</li>
                                <li>:split or &lt;C-w&gt;s		//Splits current window</li>
                                <li>:vsplit or &lt;C-w&gt;v		//Splits current window aside (Vectical split)</li>
                                <li>&lt;C-w&gt; +_ 			//Increases view to full vertical window</li>
                                <li>&lt;C-w&gt; + | 			//Increases view to full horizontal window</li>
                                <li>&lt;C-w&gt; [val] +	 		//Increases view with val vertically</li>
                                <li>&lt;C-w&gt; [val] - 			//Decreases view with val vertically</li>
                                <li>&lt;C-w&gt; [val] &gt; 			//Increases view with val horizontally</li>
                                <li>&lt;C-w&gt; [val] &lt; 			//Decreases view with val horizontally</li>
                                <li>&lt;C-w&gt; &lt;C-w&gt;			//Switch to  next window</li>
                                <li>[val| &lt;C-w&gt; &lt;C-w&gt;		//Switch to window number [val]</li>
                                <li>&lt;C-w&gt;=			//Set default sizes to all windows</li>
                                <li>&lt;C-w&gt;q			//Close window</li>
                                <li>gf				//Open file under cursor</li>
                                <li>&lt;C-w&gt;F			//Open file under cursor in a new window</li>
                                <li>&lt;C-w&gt;gF			//Open file under cursor in a new tab</li>
                            </ul>
                        </p>
                    </article>
                    <hr>
                    <article id="TABS">
                        <header>
                            <h1>6. Tabs</h1>
                        </header>
                        <p>
                            <ul>
                                <li>:tabnew 	//Opens newtab</li>
                                <li>:tabclose  	//Closes tab</li>
                                <li>gt		//Goes to next tab</li>
                                <li>gT		//Goes to previous tab</li>
                                <li>[val]gt		//Goes to tab [val]</li>
                            </ul>
                        </p>
                    </article>
                    <hr>
                    <article id="FILE_SEACRHING">
                        <header>
                            <h1>7. File Searching</h1>
                        </header>
                        <p>
                            <ul>
                                <li>:find &lt;file&gt; 	//Seach file and opens it</li>
                                <li>:find &lt;sfile&gt; 	//Seach file and opens it to new window</li>
                            </ul>
                        </p>
                    </article>
                    <hr>
                    <article id="GDB">
                        <header>
                            <h1>8. GDB</h1>
                        </header>
                        <p>
                            <ul>
                                <li>let g:termdebug_wide=1	//Wide debugging screen add this to .vimrc</li>
                                <li>packadd termdebug		//Adds termdebug package</li>
                                <li>Termdebug &lt;binary&gt;              //Binary is optional, but then ‘file’ command must be used</li>
                                <li>file &lt;binary&gt;			//Add binary to GDB</li>
                                <li>run -v				//Runs binary</li>
                                <li>break &lt;file&gt;:&lt;line&gt;		//Add breakpoint</li>
                                <li>next				//Goes to next line</li>
                                <li>bt				//Prints call stack</li>
                                <li>print &lt;variable&gt;			//Print the variable’s content</li>
                                <li>K				//Print the content of variable under cursor</li>
                                <li>watch -l &lt;variable&gt;		//Watchpoint stops execution when value is changed</li>
                            </ul>
                        </p>
                    </article>
                    <hr>
                    <article id="TERMINAL">
                        <header>
                            <h1>8. Terminal</h1>
                        </header>
                        <p>
                            <ul>
                                <li>:terminal	//Opens terminal window</li>
                                <li>&lt;C-w&gt;N	//Makes terminal inactive, press ‘i’ if you want to get back active terminal</li>
                                <li>&lt;C-w&gt;”[val]	//Paste from [val] -register</li>
                            </ul>
                        </p>
                    </article>
                    <hr>
                    <article id="MYVIMRC">
                        <header>
                            <h1>My vimrc</h1>
                        </header>
                        <p>
                            <pre><code>
set number                              " Set linenumbers
set relativenumber                      " Set relative linenumbers
set splitbelow                          " New window below
set splitright                          " New window right
set tabstop=4 shiftwidth=4 expandtab    " Tab to space
set autoindent                          " Copy indent from current line when starting a new line
set ruler                               " Show the line and column number of the cursor position
set hlsearch                            " When there is a previous search pattern, highlight all its matches
set incsearch                           " While typing a search command, the matched string is highlighted
set wildmenu                            " On pressing '&lt;Tab&gt;' to invoke completion
set wildmode=longest,list               " Wildmode acts like bash shell
set belloff=all                         " No sounds
set shiftround                          " CTRL-T and CTRL-D in Insert mode always round the indent to
                                        " a multiple of 'shiftwidth' (this is Vi compatible).
set history=200                         " Saves 200 Ex commands
set nocompatible                        " No vi compatible
let mapleader= "\&lt;Space&gt;"
let g:termdebug_wide=1                  " Wide debugging window
syntax on
filetype plugin indent on

nnoremap &lt;leader&gt;w :echo winnr()&lt;CR&gt;
nnoremap &lt;leader&gt;q :call SwitchSourceHeader()&lt;CR&gt;
nnoremap &lt;leader&gt;f &lt;C-]&gt;
noremap &lt;F3&gt; :grep! -rI "&lt;cword&gt;" --exclude-dir={output,build,install_dir,sysroot} --exclude=tags *&lt;CR&gt;
noremap &lt;F4&gt; :execute "tag " . expand("&lt;cword&gt;")&lt;CR&gt;
noremap &lt;F5&gt; :call PreviewWord()&lt;CR&gt;
nnoremap &lt;leader&gt;h :Entities 1&lt;CR&gt;
nnoremap &lt;leader&gt;H :Entities 0&lt;CR&gt;

set path+=$PWD/**

augroup mygroup
    autocmd!
    autocmd BufRead *.h,*.hpp,*.c,*.cpp setlocal cindent
    autocmd BufWritePre *.h,*.hpp,*.c,*.cpp %s/\s\+$//e
    autocmd BufWritePre *.h,*.hpp,*.c,*.cpp call FormatOnSave()
    autocmd BufReadPost *
        \ if line("'\"") &amp;gt;= 1 &amp;amp;&amp;amp; line("'\"") &amp;lt;= line("$") &amp;amp;&amp;amp; &amp;amp;ft !~# 'commit'
        \ |   exe "normal! g`\""
        \ | endif
    " au! CursorHold *.hpp,*.cpp nested call PreviewWord()
augroup END

function! SwitchSourceHeader()
    "update!
    if (expand ("%:e") =~ 'c\(c\|p\)\?p\?')
        if filereadable(expand("%:r.hpp"))
            edit %:r.hpp
        else
            try
                find %:t:r.hpp
            catch /.*/
                find %:t:r.h
            endtry
        endif
    else
        if filereadable(expand("%:r.cpp"))
            edit %:r.cpp
        else
            try
                find %:t:r.cpp
            catch /.*/
                find %:t:r.c
            endtry
        endif
    endif
endfunction

function! FormatOnSave()
    let l:lines="all"
    if has('python')
        pyf /usr/share/clang/clang-format-10/clang-format.py
    elseif has('python3')
        py3f /usr/share/clang/clang-format-10/clang-format.py
    endif
endfunction

function! PreviewWord()
    if &amp;previewwindow           " don't do this in the preview window
        return
    endif
    let w = expand("&lt;cword&gt;")       " get the word under cursor
    if w != ""              " if there is one ":ptag" to it
        " Delete any existing highlight before showing another tag
        silent! wincmd P            " jump to preview window
        if &amp;previewwindow           " if we really get there...
            match none          " delete existing highlight
            wincmd p            " back to old window
        endif

        " Try displaying a matching tag for the word under the cursor
        let v:errmsg = ""
        exe "silent! ptag " . w
        if v:errmsg =~ "tag not found"
            return
        endif

        silent! wincmd P            " jump to preview window
        if &amp;previewwindow       " if we really get there...
            if has("folding")
                silent! .foldopen       " don't want a closed fold
            endif
            call search("$", "b")       " to end of previous line
            let w = substitute(w, '\\', '\\\\', "")
            call search('\&lt;\V' . w . '\&gt;')  " position cursor on match
            " Add a match highlight to the word at this position
            "hi previewWord term=bold ctermbg=green guibg=green
            hi previewWord term=bold ctermfg=0 ctermbg=3 guifg=Black guibg=Yellow
            exe 'match previewWord "\%' . line(".") . 'l\%' . col(".") . 'c\k*"'

            wincmd p            " back to old window
        endif
    endif
endfunction

" Escape/unescape &amp; &lt; &gt; HTML entities in range (default current line).
function! HtmlEntities(line1, line2, action)
  let search = @/
  let range = 'silent ' . a:line1 . ',' . a:line2
  if a:action == 0  " must convert &amp;amp; last
    execute range . 'sno/&amp;lt;/&lt;/eg'
    execute range . 'sno/&amp;gt;/&gt;/eg'
    execute range . 'sno/&amp;amp;/&amp;/eg'
  else              " must convert &amp; first
    execute range . 'sno/&amp;/&amp;amp;/eg'
    execute range . 'sno/&lt;/&amp;lt;/eg'
    execute range . 'sno/&gt;/&amp;gt;/eg'
  endif
  nohl
  let @/ = search
endfunction

command! -range -nargs=1 Entities call HtmlEntities(&lt;line1&gt;, &lt;line2&gt;, &lt;args&gt;)

execute pathogen#infect()
let g:syntastic_cpp_config_file = '.syntastic_cpp_config'
let g:syntastic_cpp_check_header = 1
let g:syntastic_check_on_open = 1
let g:syntastic_check_on_wq = 0
let g:syntastic_python_python_exec = 'python3'
let g:syntastic_python_checkers = ['python']
                            <code></pre>
                        </p>
                    </article>
                    <hr>
                    <a href="#top">Back to top</a>
                </aside>    
                <!-- </div> -->
            </div>
        </div>

        <footer>
            <p>
               <b><em>eero.viittala@outlook.com</em></b> 
            </p>
        </footer>
    </body>
</html>

